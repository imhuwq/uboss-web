<%= content_for :page_title do %>  店铺名称<% end %><%= content_for :header_left do %>  <a class="back" onclick="history.go(-1)"><%= image_tag 'mobile/right.png' %></a><% end %><div id="store-dishes-menus" class="dishes-pop-bg">	<div class="close-area"></div>	<div class="dishes-menus-container">		<ul class="store-menus-list">			<li class="dishes-menus active" data-chlid="1">菜品分类1</li>			<li class="dishes-menus" data-chlid="2">菜品分类2</li>			<li class="dishes-menus" data-chlid="5">菜品分类3</li>		</ul><!-- store-menus-list -->	</div></div><!-- store-dishes-menus --><div class="dishes-list-container"><ul class="dishes-list">	  	<li class="dishes-box"	    <% if 0 == 1 %>	      <!--	      没有图片的时候 （Ps：不要那种通用的默认图片）	      -->	      style="background-image:url('图片地址') ;"	    <% end %>	  >	    <div class="dishes-info">	      <div class="title">我是有规格的时候</div>	      <br />	      <div class="price"><small>￥</small><span class="dishes-price">88</span></div>	      <div class="num-box">	        <div class="minus disabled"><span>-</span></div>	        <div class="num disabled">0</div>	        <div class="plus pselect"><span>+</span></div>	      </div>	    </div><!-- dishes-info -->		  </li><!-- dishes-box-->		  <li class="dishes-box" 	    <% if 0 == 1 %>	      <!--	      没有图片的时候 （Ps：不要那种通用的默认图片）	      -->	      style="background-image:url('图片地址') ;"	    <% end %>	  >	    <div class="dishes-info">	      <div class="title">菜品名称2</div>	      <br />	      <div class="price"><small>￥</small><span class="dishes-price">55</span></div>	      <div class="num-box">	        <div class="minus disabled"><span>-</span></div>	        <div class="num disabled">0</div>	        <div class="plus ponly"><span>+</span></div>	      </div>	    </div><!-- dishes-info -->	  </li><!-- dishes-box-->    <li class="dishes-box" >    <div class="dishes-info">      <div class="title">菜品名称3</div>      <br />      <div class="price"><small>￥</small><span class="dishes-price">55</span></div>      <div class="num-box">        <div class="minus disabled"><span>-</span></div>        <div class="num disabled">0</div>        <div class="plus ponly"><span>+</span></div>      </div>    </div><!-- dishes-info -->  </li><!-- dishes-box-->  <li class="dishes-box" >    <div class="dishes-info">      <div class="title">菜品名称3</div>      <br />      <div class="price"><small>￥</small><span class="dishes-price">55</span></div>      <div class="num-box">        <div class="minus disabled"><span>-</span></div>        <div class="num disabled">0</div>        <div class="plus ponly"><span>+</span></div>      </div>    </div><!-- dishes-info -->  </li><!-- dishes-box-->  <li class="dishes-box" >    <div class="dishes-info">      <div class="title">菜品名称3</div>      <br />      <div class="price"><small>￥</small><span class="dishes-price">55</span></div>      <div class="num-box">        <div class="minus disabled"><span>-</span></div>        <div class="num disabled">0</div>        <div class="plus ponly"><span>+</span></div>      </div>    </div><!-- dishes-info -->  </li><!-- dishes-box-->  <li class="dishes-box" >    <div class="dishes-info">      <div class="title">菜品名称3</div>      <br />      <div class="price"><small>￥</small><span class="dishes-price">55</span></div>      <div class="num-box">        <div class="minus disabled"><span>-</span></div>        <div class="num disabled">0</div>        <div class="plus ponly"><span>+</span></div>      </div>    </div><!-- dishes-info -->  </li><!-- dishes-box-->  <li class="dishes-box" >    <div class="dishes-info">      <div class="title">菜品名称3</div>      <br />      <div class="price"><small>￥</small><span class="dishes-price">55</span></div>      <div class="num-box">        <div class="minus disabled"><span>-</span></div>        <div class="num disabled">0</div>        <div class="plus ponly"><span>+</span></div>      </div>    </div><!-- dishes-info -->  </li><!-- dishes-box-->  </ul><!-- dishes-list --></div><!-- dishes-list-container --><!-- 商品规格 --><div class="dishes-pop-bg dishes-sku ">  <div class="close-area"></div>  <div class="dishes-pop-container">    <div class="dishes-meida">      <div class="cover"       <% if 0 == 1 %>        <!--        没有图片的时候 （Ps：不要那种通用的默认图片）        -->        style="background-image:url('图片地址') ;"      <% end %>>      </div>      <div class="title">商品名称 </div>      <div class="price"><small>￥</small> <span class="dishes-price">88</span></div>    </div><!-- dishes-meida -->    <div class="dishes-sku-info">      <!-- 循环 这里 默认选中第一个-->      <div class="dishes-sku-box border-top">        <div class="title">规格类名</div>        <div class="sku-select ">          <span class="active">规格名</span>          <span class="disabled">规格名</span>          <span>规格名</span>        </div><!-- sku-select -->      </div><!-- dishes-sku-box -->            <!-- 结束循环 -->    </div><!-- dishes-sku-info -->    <div class="dishes-sku-num border-top">      购买数量      <div class="num-box pull-right">        <div class="minus disabled"><span>-</span></div>        <div class="num disabled">0</div>        <div class="plus ponly"><span>+</span></div>      </div>          </div><!-- dishes-info -->    <a class="dishes-add-btn btn btn-block">      确定    </a>  </div><!-- dishes-pop-container -->  </div><!-- dishes-sku --><!-- end 商品规格 --><div id="dishes-order-box" class="dishes-pop-bg">	<div class="close-area"></div>	<div class="dishes-pop-container">				<div class="dishes-order-container">			<div class="order-clear">清空菜单</div>			<div id="dishes-order-list">				<div class="order-name dishes-id-01" >					<div class="num-box pull-right">						<div class="minus"><span>-</span></div>		        <div class="num">0</div>		        <div class="plus ponly"><span>+</span></div>					</div><!-- num-box -->					<div class="name text-cut">菜品名称</div>					<div class="price text-cut"><small>￥</small> 88</div>				</div><!-- order-name -->				<div class="order-name dishes-id-01" >					<div class="num-box pull-right">						<div class="minus"><span>-</span></div>		        <div class="num">0</div>		        <div class="plus ponly"><span>+</span></div>					</div><!-- num-box -->					<div class="name text-cut">菜品名称</div>					<div class="price text-cut"><small>￥</small> 88</div>				</div><!-- order-name -->			</div>		</div><!-- dishes-order-container -->			</div><!-- dishes-pop-container --></div><!-- dishes-order-box --><div class="dishes-buy-bar">  <div class="order-icon pull-left">    <span class="order-count" id="order-count"></span>  </div><!-- order-icon -->  <a class="order-buy-btn btn disabled pull-right" id="order-buy-btn">去付款</a><!-- order-buy-btn -->  <div class="dishes-order-price text-cut">    <small>应付：</small><span id="dishes-total-price">0</span> 元  </div><!-- order-info --></div><!-- dishes-buy-bar --><script> $(document).ready(function(){ 		 //menu      var order_count = $('#order-count');   var order_btn =$('#order-buy-btn');   var total_price =$('#dishes-total-price');   var total_price_num = 0;   //按加号   $('.dishes-info .num-box .ponly').on('click',function(){     //单个菜品上的操作     var num_box = $(this).closest('.num-box').find('.disabled');     if(num_box.length > 0){      num_box.removeClass('disabled');      $(this).closest('.num-box').find('.num').html(1);    }else{      var now_num =parseInt($(this).closest('.num-box').find('.num').html())+1;      $(this).closest('.num-box').find('.num').html(now_num);    }    //底部导航的操作    if(order_count.html() == ""){      order_count.html(1);    }else{      order_count.html(parseInt(order_count.html())+1);    }    //底部按钮    order_btn.removeClass('disabled');  })  //按减号  $('.dishes-info .num-box .minus').on('click',function(){        //单个菜品上的操作     var now_num =parseInt($(this).closest('.num-box').find('.num').html())-1;     if(now_num >= 0){       $(this).closest('.num-box').find('.num').html(now_num);     }        if(now_num <= 0){      $(this).addClass('disabled');            $(this).closest('.num-box').find('.num').addClass('disabled');    }        //底部导航的操作    if(order_count.html() <= "1"){      order_count.html('');    }else{      order_count.html(parseInt(order_count.html())-1);    }    //底部按钮    if(total_price_num <= 0){      order_btn.addClass('disabled');    }      })  /*弹出规格*/  $('.pselect').on('click',function(){    $('.dishes-sku').addClass('show');    $('html,body').on('touchmove',function(e){      e.preventDefault();    });  })  $('.dishes-pop-bg .close-area').on('click',function(){    $(this).closest('.dishes-pop-bg').removeClass('show');    $('html,body').off('touchmove');  })  //规格选择  $('.sku-select span').on('click',function(){    $('.sku-select span').removeClass('active');    $(this).addClass('active');  })  //菜单弹出  $('.dishes-buy-bar .order-icon').on('click',function(){  	  	 if(order_count.html() == ""){  	 	$('#dishes-order-box').addClass('show');    $('html,body').on('touchmove',function(e){      e.preventDefault();    });  	 }	else{  	 	alert("请先点菜~");  	 }      })  //清除菜单   $('#dishes-order-box .order-clear').on('click',function(){  		    $(this).closest('.dishes-pop-bg').removeClass('show');    $('html,body').off('touchmove');    $('#dishes-order-list').html('');    order_count.html('');    $('.num-box .num').html('0').addClass('disabled');    $('.dishes-info .num-box .minus').addClass('disabled');    order_btn.addClass('disabled');  }) })var dishes_list_Scroll;var dishes_menus_Scroll;function iScrollClick(){	if (/iPhone|iPad|iPod|Macintosh/i.test(navigator.userAgent)) return false;	if (/Chrome/i.test(navigator.userAgent)) return (/Android/i.test(navigator.userAgent));	if (/Silk/i.test(navigator.userAgent)) return false;	if (/Android/i.test(navigator.userAgent)) {	   var s=navigator.userAgent.substr(navigator.userAgent.indexOf('Android')+8,3);	   return parseFloat(s[0]+s[3]) < 44 ? false : true    }}function loaded () {	dishes_list_Scroll = new IScroll('.dishes-list-container',{click:iScrollClick()});}document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false); $(document).ready(function(){	//弹出菜单栏		var Isflag = true;	$('.dishes-header .menu-btn').on('click',function(){	 	 $('#store-dishes-menus').addClass('show'); 	 	 	 if(Isflag){	 	 	dishes_menus_Scroll = new IScroll('.dishes-menus-container',{click:iScrollClick()});	 	 	Isflag = false;	 	 }			 })   		$('.dishes-menus').on('click',function(){				$('.dishes-menus').removeClass('active')		$(this).addClass('active');		dishes_list_Scroll.scrollToElement(document.querySelector('.dishes-list-container li:nth-child('+	$(this).attr("data-chlid") +')'))	})	})</script>