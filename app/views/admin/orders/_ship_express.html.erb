<div class="modal fade" id="ship-express-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span class='close' aria-hidden="true">&times;</span></button>
        <h3 class="modal-title" id="myModalLabel">快递信息</h3>
      </div>

      <%= simple_form_for :order, method: :patch do |f| %>
        <div class="modal-body">
          <h4>快递公司</h4>
          <p><%= text_field_tag 'express_name', '', class: 'input-block form-control input-lg js-select2-express-tags select2-offscreen',placeholder:'可输入其他快递公司名称, 按回车结束'%></p>
          <p>
          您可在 (订单 -> 快递管理) 中设置您的常用发货快递公司
          </p>
          <br />
          <h4>快递单号</h4>
          <p><%= text_field_tag 'order[ship_number]', '', class: 'input-block',placeholder:'快递单号' %></p>
          <br />
          <div id="default_addresses">
            <%= render partial: 'admin/orders/default_address_for_index' %>
          </div>

        </div>

        <div class="modal-footer">
          <%= f.submit '确定', class: 'btn btn-large' %>
          <button type="button" class="btn btn-large gray-btn" data-dismiss="modal">取消</button>
        </div>
      <% end %>
    </div>
  </div>
</div>

<script>
  $(".js-select2-express-tags").select2({
  tags: <%== Express.where(private_id: [nil, current_user.id]).pluck(:name) %>,
  maximumSelectionSize: 1,
  placeholder: "可输入其他快递公司名称, 按回车结束"
  })
</script>
